(function(e){function t(t){for(var n,s,a=t[0],l=t[1],u=t[2],c=0,f=[];c<a.length;c++)s=a[c],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&f.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,a=1;a<r.length;a++){var l=r[a];0!==o[l]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var d=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"0a4a":function(e,t,r){},"13f1":function(e,t,r){},"273d":function(e,t,r){"use strict";r("a615")},"3cab":function(e,t,r){"use strict";r("e0ed")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("AppHeader"),r("transition",{attrs:{name:"fade",mode:"out-in"}},[this.$store.getters.isAuthenticated?r("div",{attrs:{id:"main"}},[r("CenterBox"),r("LeftSidebar"),r("RightSidebar")],1):r("LoggedOut")],1)],1)},i=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-navbar",{attrs:{type:"dark",variant:"dark"}},[r("b-nav-item",{attrs:{disabled:""}},[e._v("Greenergy "),r("b",[e._v("Tender")])]),r("b-navbar-nav",{staticClass:"ml-auto"},[r("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isLoggedIn?r("b-nav-item",{on:{click:e.logout}},[e._v("Log Out")]):r("div",[r("b-nav-form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[r("b-form-group",{staticClass:"mr-2"},[r("b-form-invalid-feedback",{attrs:{state:e.checkLogin}},[e._v(" Invalid username or password ")])],1),r("b-form-group",[r("b-form-input",{staticClass:"mr-sm-2",attrs:{size:"sm",placeholder:"usename"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),r("b-form-group",[r("b-form-input",{staticClass:"mr-sm-2",attrs:{type:"password",size:"sm",placeholder:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("b-form-group",[r("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm",type:"submit"}},[e._v("Log In")])],1)],1)],1)],1)],1)],1)},a=[],l={data:function(){return{username:null,password:null,validLogin:null}},methods:{login:function(){var e=this,t={username:this.username,password:this.password};this.$store.dispatch("LogIn",t).then((function(t){e.validLogin=null,e.username=null,e.password=null}),(function(t){e.validLogin=!1}))},logout:function(){this.$store.dispatch("LogOut")}},computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated},checkLogin:function(){return this.validLogin}}},u=l,d=r("2877"),c=Object(d["a"])(u,s,a,!1,null,null,null),f=c.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.currentTender?r("div",{staticClass:"d-flex flex-column",attrs:{id:"centerBox"}},[r("h2",{staticClass:"text-center mt-2"},[e._v(" Tender "+e._s(e.currentTender.date)+" "+e._s(e.currentTender.market)+" "+e._s(e.currentTender.direction)+"-"+e._s(e.currentTender.tender_round)+" ")]),r("b-pagination",{staticClass:"my-3",attrs:{"total-rows":e.lastRound,"per-page":"1",limit:"10","first-number":"","last-number":"",align:"center"},model:{value:e.currentRound,callback:function(t){e.currentRound=t},expression:"currentRound"}}),r("div",{staticClass:"container"},[r("div",{staticClass:"row border header"},[r("div",{staticClass:"col-3 col-md-2"}),r("div",{staticClass:"col-3 px-md-5"},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.currentRound>1,expression:"currentRound > 1"}]},[r("label",{staticClass:"mb-0 py-1"},[e._v("price")]),r("label",{staticClass:"mb-0 py-1 float-right"},[e._v("amount")])])]),e._m(0),r("div",{staticClass:"col-3 px-md-5"},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.currentRound<10,expression:"currentRound < 10"}]},[r("label",{staticClass:"mb-0 py-1"},[e._v("price")]),r("label",{staticClass:"mb-0 py-1 float-right"},[e._v("amount")])])]),r("div",{staticClass:"col"})])]),r("BidRows",{attrs:{lastRound:e.lastRound}})],1):e._e()},b=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-3 px-md-5 bg-primary text-white"},[r("label",{staticClass:"mb-0 py-1"},[e._v("price")]),r("label",{staticClass:"mb-0 py-1 float-right"},[e._v("amount")])])}],m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.currentTender?r("div",{staticClass:"container rounded border-top border-bottom",attrs:{id:"bidRows"}},e._l(e.currentTender.units,(function(t,n){return r("div",{key:t.id,staticClass:"row bg-light border mb-1"},[r("div",{staticClass:"d-flex justify-content-center col-3 col-md-2 align-items-center shadow-x"},[e._v(" "+e._s(e.formatDate(t.fromdate))+" "),r("br"),e._v(" "+e._s(e.formatDate(t.todate))+" ")]),r("div",{staticClass:"col-3 px-md-5"},[r("ul",e._l(e.filterBids(t,-1),(function(t){return r("li",{key:t.id},[r("span",[e._v(" "+e._s(t.price)+" ")]),r("span",{staticClass:"float-right pr-3"},[e._v(" "+e._s(t.amount)+" ")])])})),0)]),r("div",{staticClass:"col-3 px-md-5 shadow-x"},[r("ul",e._l(e.filterBids(t,0),(function(t){return r("li",{key:t.id},[r("span",[e._v(" "+e._s(t.price)+" ")]),r("span",{staticClass:"float-right pr-3"},[e._v(" "+e._s(t.amount)+" ")])])})),0)]),r("div",{staticClass:"col-3 px-md-5"},[r("ul",e._l(e.filterBids(t,1),(function(t){return r("li",{key:t.id},[r("span",[e._v(" "+e._s(t.price)+" ")]),r("span",{staticClass:"float-right pr-3"},[e._v(" "+e._s(t.amount)+" ")])])})),0),e.currentRound==e.lastRound&&0==n?r("RoundUploader",{attrs:{lastRound:e.lastRound}}):e._e()],1),r("div",{staticClass:"col"})])})),0):e._e()},h=[],v=(r("a9e3"),r("4de4"),r("a15b"),r("fb6a"),r("1276"),r("ac1f"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form",{attrs:{id:"upload-form"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.uploadForm(t)}}},[r("b-form-group",[r("b-form-file",{attrs:{placeholder:"Next round...","drop-placeholder":"Drop here...",accept:".xlsx",state:e.checkFile,required:""},model:{value:e.roundFile,callback:function(t){e.roundFile=t},expression:"roundFile"}}),r("b-form-invalid-feedback",{attrs:{state:e.checkFile}},[e._v(" Must be an XLSX file ")])],1),r("b-button",{attrs:{type:"submit",variant:"success"}},[e._v("Upload")])],1)}),_=[],g=(r("d3b7"),{props:{lastRound:Number},data:function(){return{roundFile:null}},methods:{uploadForm:function(){var e=this;if(this.checkFile){var t=new FormData;t.append("round_file",this.roundFile),t.append("tender_id",this.currentTender.id),t.append("bid_round",this.lastRound+1),fetch(this.$store.state.BASE_URL+"tenders/"+this.currentTender.id+"/",{method:"PUT",body:t,headers:{Authorization:"Token "+this.$store.getters.Token}}).then((function(e){return e.json()})).then((function(t){e.$store.dispatch("reloadTender")}))}}},computed:{currentTender:function(){return this.$store.state.currentTender},checkFile:function(){return null==this.roundFile?null:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==this.roundFile["type"]}}}),k=g,x=Object(d["a"])(k,v,_,!1,null,null,null),w=x.exports,y={components:{RoundUploader:w},props:{lastRound:Number},methods:{filterBids:function(e,t){var r=this,n=this.currentRound+t;return n<1||n>10||n>this.lastRound||!this.currentTender.bid_rounds?null:e.bids.filter((function(e){return e.bid_round==r.currentTender.bid_rounds[n-1].id}))},formatDate:function(e){return new Date(e).toDateString().split(" ").slice(1).join(" ")}},computed:{currentTender:function(){return this.$store.state.currentTender},currentRound:function(){return this.$store.state.currentRound}}},T=y,R=(r("82e7"),Object(d["a"])(T,m,h,!1,null,null,null)),F=R.exports,C={components:{BidRows:F},methods:{shouldDisable:function(e){return e>this.lastRound}},computed:{currentTender:function(){return this.$store.state.currentTender},currentRound:{get:function(){return this.$store.state.currentRound},set:function(e){this.$store.commit("switchRound",e)}},lastRound:function(){return this.$store.state.lastRound}},created:function(){this.$store.commit("switchTender",14)}},$=C,S=(r("273d"),Object(d["a"])($,p,b,!1,null,"6cd4c847",null)),U=S.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-left",modifiers:{"sidebar-left":!0}}],attrs:{pill:"",variant:"outline-secondary",id:"open-button"}},[r("b-icon",{attrs:{icon:"folder-fill"}})],1),r("b-sidebar",{attrs:{id:"sidebar-left",width:"400px","no-header":"",shadow:""}},[r("div",{staticClass:"px-4 py-3"},[r("TabsBox")],1),r("p",{staticClass:"h3"},[r("b-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-left",modifiers:{"sidebar-left":!0}}],attrs:{icon:"arrow-bar-left",id:"hide-icon"}})],1)])],1)},j=[],E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-tabs",{attrs:{"content-class":"mt-3",align:"center"}},[r("b-tab",{attrs:{title:"Select",active:""}},[r("TenderSelector")],1),r("b-tab",{attrs:{title:"Upload"}},[r("TenderUploader")],1)],1)],1)},L=[],B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-form",{attrs:{inline:""}},[r("b-form-datepicker",{model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),r("b-form-select",{attrs:{options:e.markets},model:{value:e.market,callback:function(t){e.market=t},expression:"market"}}),r("b-form-select",{attrs:{options:e.directions},model:{value:e.direction,callback:function(t){e.direction=t},expression:"direction"}}),r("b-form-select",{attrs:{options:e.rounds},model:{value:e.tender_round,callback:function(t){e.tender_round=t},expression:"tender_round"}}),r("b-icon",{staticClass:"mx-2",attrs:{icon:"arrow-repeat",id:"clear-icon"},on:{click:e.clearFilters}})],1),r("b-list-group",e._l(e.filteredTenders,(function(t){return r("b-list-group-item",{key:t.id,staticClass:"text-monospace",attrs:{button:""},on:{click:function(r){return e.switchTender(t.id)}}},[e._v(" Tender "+e._s(t.date)+" "+e._s(t.market)+" "+e._s(t.direction)+"-"+e._s(t.tender_round)+" ")])})),1)],1)},D=[],A=r("b85c"),P={data:function(){return{date:null,market:null,direction:null,tender_round:null,markets:[{value:null,text:"Market"},{value:"aFRR",text:"aFRR"},{value:"mFRR",text:"mFRR"}],directions:[{value:null,text:"Direction"},{value:"U",text:"Up"},{value:"D",text:"Down"}],rounds:[{value:null,text:"Round"},{value:1,text:"1"},{value:2,text:"2"}]}},methods:{clearFilters:function(){this.date=null,this.market=null,this.direction=null,this.tender_round=null},addArrowIcons:function(e){var t,r=Object(A["a"])(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.arrowIcon="U"==n.direction?"caret-up-fill":"caret-down-fill",n.arrowColor="U"==n.direction?"success":"danger"}}catch(o){r.e(o)}finally{r.f()}},switchTender:function(e){this.$store.commit("switchTender",e)}},computed:{tenders:function(){return this.$store.state.tenders},filteredTenders:function(){var e=this;return this.tenders.filter((function(t){return(null==e.date||e.date==t.date)&&(null==e.market||e.market==t.market)&&(null==e.direction||e.direction==t.direction)&&(null==e.tender_round||e.tender_round==t.tender_round)})).slice(0,8)}},created:function(){this.$store.commit("getTenders")}},M=P,N=(r("95a6"),Object(d["a"])(M,B,D,!1,null,"b5e21f42",null)),I=N.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-form",{attrs:{id:"upload-form"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.uploadForm(t)}}},[r("b-form-group",[r("b-form-file",{attrs:{placeholder:"First round file...","drop-placeholder":"First round file...",accept:".xlsx",state:e.checkFile(e.tenderFile),required:""},model:{value:e.tenderFile,callback:function(t){e.tenderFile=t},expression:"tenderFile"}}),r("b-form-invalid-feedback",{attrs:{state:e.checkFile(e.tenderFile)}},[e._v(" Must be an XLSX file ")])],1),r("b-form-group",[r("b-form-file",{attrs:{placeholder:"Price drops file...","drop-placeholder":"Price drops file...",accept:".xlsx",state:e.checkFile(e.dropsFile),required:""},model:{value:e.dropsFile,callback:function(t){e.dropsFile=t},expression:"dropsFile"}}),r("b-form-invalid-feedback",{attrs:{state:e.checkFile(e.dropsFile)}},[e._v(" Must be an XLSX file ")])],1),r("b-form-group",[r("b-form-file",{attrs:{placeholder:"Bid file...","drop-placeholder":"Bid file...",accept:".xlsx",state:e.checkFile(e.bidFile),required:""},model:{value:e.bidFile,callback:function(t){e.bidFile=t},expression:"bidFile"}}),r("b-form-invalid-feedback",{attrs:{state:e.checkFile(e.bidFile)}},[e._v(" Must be an XLSX file ")])],1),r("b-form-group",[r("b-form-select",{attrs:{options:e.markets,required:""},model:{value:e.market,callback:function(t){e.market=t},expression:"market"}})],1),r("b-form-group",[r("b-form-select",{attrs:{options:e.directions,required:""},model:{value:e.direction,callback:function(t){e.direction=t},expression:"direction"}})],1),r("b-form-group",[r("b-form-select",{attrs:{options:e.tender_rounds,required:""},model:{value:e.tender_round,callback:function(t){e.tender_round=t},expression:"tender_round"}})],1),r("b-form-group",[r("b-button",{attrs:{type:"submit",variant:"success"}},[e._v("Upload")])],1)],1),r("b-alert",{attrs:{variant:"danger",fade:""},model:{value:e.showUploadError,callback:function(t){e.showUploadError=t},expression:"showUploadError"}},[r("b",[e._v("Upload Falied!")]),e._v(" "+e._s(e.uploadError)+" ")]),r("b-alert",{attrs:{variant:"success",dismissible:"",fade:""},model:{value:e.showUploadSuccess,callback:function(t){e.showUploadSuccess=t},expression:"showUploadSuccess"}},[r("b",[e._v("Uploaded successfully!")])])],1)},X=[],q={data:function(){return{tenderFile:null,dropsFile:null,bidFile:null,market:null,direction:null,tender_round:null,uploadError:null,showUploadError:!1,showUploadSuccess:!1,markets:[{value:null,text:"Market"},{value:"aFRR",text:"aFRR"},{value:"mFRR",text:"mFRR"}],directions:[{value:null,text:"Direction"},{value:"U",text:"Up"},{value:"D",text:"Down"}],tender_rounds:[{value:null,text:"Tender round"},{value:1,text:"1"},{value:2,text:"2"}]}},methods:{checkFile:function(e){return null==e?null:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==e["type"]},clearForm:function(){this.tenderFile=null,this.dropsFile=null,this.bidFile=null,this.market=null,this.direction=null,this.tender_round=null},uploadForm:function(){var e=this;if(this.checkFile){var t=new FormData;t.append("first_round_file",this.tenderFile),t.append("drops_file",this.dropsFile),t.append("bid_file",this.bidFile),t.append("market",this.market),t.append("direction",this.direction),t.append("tender_round",this.tender_round),t.append("bid_round","1"),fetch(this.$store.state.BASE_URL+"tenders/",{method:"POST",body:t,headers:{Authorization:"Token "+this.$store.getters.Token}}).then((function(e){return e.json().then((function(t){return{status:e.status,body:t}}))})).then((function(t){"202"==t.status?(e.uploadError=null,e.showUploadError=!1,e.showUploadSuccess=!0,e.clearForm(),e.$store.commit("getTenders")):(e.uploadError=t.body.message,e.showUploadSuccess=!1,e.showUploadError=!0)}))}}}},J=q,W=Object(d["a"])(J,z,X,!1,null,null,null),G=W.exports,H={components:{TenderSelector:I,TenderUploader:G}},Y=H,K=Object(d["a"])(Y,E,L,!1,null,null,null),Q=K.exports,V={components:{TabsBox:Q}},Z=V,ee=(r("f75e"),Object(d["a"])(Z,O,j,!1,null,"16a5ef23",null)),te=ee.exports,re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-right",modifiers:{"sidebar-right":!0}}],attrs:{pill:"",variant:"outline-secondary",id:"right-button"}},[r("b-icon",{attrs:{icon:"pen-fill"}})],1),r("b-sidebar",{attrs:{id:"sidebar-right",width:"550px","bg-variant":"dark","text-variant":"light",right:"","no-header":"",shadow:""}},[r("div",{staticClass:"px-4 py-3",attrs:{id:"bidTableWrapper"}},[r("BidTable")],1),r("p",{staticClass:"h2"},[r("b-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-right",modifiers:{"sidebar-right":!0}}],attrs:{icon:"arrow-bar-right",id:"hide-icon"}})],1)])],1)},ne=[],oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.currentTender?r("b-table-simple",{attrs:{"sticky-header":"100%",dark:"",hover:""}},[r("b-thead",[r("b-tr",{staticClass:"text-center"},[r("b-th",{staticStyle:{width:"25%"},attrs:{scope:"col"}},[r("b-button",{attrs:{type:"submit",variant:"success"},on:{click:e.makeBid}},[e._v("Make Bid")])],1),r("b-th",{staticStyle:{width:"25%"},attrs:{scope:"col"}},[e._v("5MW")]),r("b-th",{staticStyle:{width:"25%"},attrs:{scope:"col"}},[e._v("10MW")]),r("b-th",{staticStyle:{width:"25%"},attrs:{scope:"col"}},[e._v("15MW")])],1)],1),r("b-tbody",e._l(e.currentTender.units,(function(t,n){return r("b-tr",{key:t.id},[r("b-th",{attrs:{scope:"row"}},[e._v(" "+e._s(e.formatDate(t.fromdate))+" "),r("br"),e._v(" "+e._s(e.formatDate(t.todate))+" ")]),r("b-td",[r("b-form-input",{attrs:{type:"number"},model:{value:e.bids[n]["5"],callback:function(t){e.$set(e.bids[n],"5",t)},expression:"bids[index]['5']"}})],1),r("b-td",[r("b-form-input",{attrs:{type:"number"},model:{value:e.bids[n]["10"],callback:function(t){e.$set(e.bids[n],"10",t)},expression:"bids[index]['10']"}})],1),r("b-td",[r("b-form-input",{attrs:{type:"number"},model:{value:e.bids[n]["15"],callback:function(t){e.$set(e.bids[n],"15",t)},expression:"bids[index]['15']"}})],1)],1)})),1)],1):e._e()},ie=[],se=(r("2b3d"),r("3ca3"),r("ddb0"),{data:function(){return{makeBidError:null}},methods:{formatDate:function(e){return new Date(e).toDateString().split(" ").slice(1).join(" ")},makeBid:function(){var e={tender_id:this.currentTender.id,round:this.$store.state.lastRound,bids:this.bids};this.currentTender.id,fetch(this.$store.state.BASE_URL+"bid/",{method:"POST",headers:{Authorization:"Token "+this.$store.getters.Token,"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(e);window.location.assign(t)}))}},computed:{currentTender:function(){return this.$store.state.currentTender},currentRound:function(){return this.$store.state.currentRound},bids:function(){for(var e={},t=0;t<this.currentTender.units.length;t++){var r=new Date(this.currentTender.units[t].fromdate).getDay(),n=6===r||0===r,o=this.currentTender.bid_rounds[this.$store.state.lastRound-1],i=n?o.max_price_wkdy:o.max_price_wknd;e[t]={5:i,10:i,15:i}}return e}}}),ae=se,le=Object(d["a"])(ae,oe,ie,!1,null,null,null),ue=le.exports,de={components:{BidTable:ue}},ce=de,fe=(r("3cab"),Object(d["a"])(ce,re,ne,!1,null,"64ee54e6",null)),pe=fe.exports,be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-jumbotron",{attrs:{"bg-variant":"info","text-variant":"white","border-variant":"dark"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("Greenergy Tender")]},proxy:!0},{key:"lead",fn:function(){return[e._v(" A simple web application for the tenders. ")]},proxy:!0}])},[r("hr",{staticClass:"my-4"}),r("p",[e._v(" You are not logged in. ")])])},me=[],he={},ve=he,_e=Object(d["a"])(ve,be,me,!1,null,null,null),ge=_e.exports,ke={components:{AppHeader:f,CenterBox:U,LeftSidebar:te,RightSidebar:pe,LoggedOut:ge}},xe=ke,we=(r("034f"),Object(d["a"])(xe,o,i,!1,null,null,null)),ye=we.exports,Te=r("5f5b"),Re=r("b1e0");r("ab8b"),r("2dd8");n["default"].use(Te["a"]),n["default"].use(Re["a"]);var Fe=r("2f62"),Ce=r("0e44"),$e={username:null,token:null},Se={isAuthenticated:function(e){return!!e.username},UserName:function(e){return e.username},Token:function(e){return e.token}},Ue={LogIn:function(e,t){var r=e.commit,n=e.rootState;return new Promise((function(e,o){fetch(n.BASE_URL+"login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(e.ok)return e.json();throw new Error("Invalid credidentals")})).then((function(n){r({type:"login",username:t.username,token:n.token}),e()}),(function(e){o(e)}))}))},LogOut:function(e){var t=e.commit,r=null;t("logout",r)}},Oe={login:function(e,t){e.username=t.username,e.token=t.token},logout:function(e){e.username=null,e.token=null}},je={state:$e,getters:Se,actions:Ue,mutations:Oe};n["default"].use(Fe["a"]);var Ee=new Fe["a"].Store({state:{tenders:[],currentTender:null,currentRound:1,lastRound:1,BASE_URL:"http://localhost:8000/api/"},mutations:{getTenders:function(e){fetch(e.BASE_URL+"tenders/",{method:"get",headers:{Authorization:"Token "+e.auth.token}}).then((function(e){return e.json()})).then((function(t){e.tenders=t}))},switchTender:function(e,t){fetch(e.BASE_URL+"tenders/"+t+"/",{method:"get",headers:{Authorization:"Token "+e.auth.token}}).then((function(e){return e.json().then((function(t){return{status:e.status,body:t}}))})).then((function(t){if("200"==t.status){e.currentTender=t.body;var r,n=e.currentTender.units[0].bids,o=Object(A["a"])(e.currentTender.bid_rounds);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.id==n[n.length-1].bid_round&&(e.lastRound=i.number)}}catch(s){o.e(s)}finally{o.f()}}else console.log("Error in switchTender",t)}))},switchRound:function(e,t){e.currentRound=t}},actions:{reloadTender:function(e){e.commit("switchTender",e.state.currentTender.id)}},modules:{auth:je},plugins:[Object(Ce["a"])({paths:["auth"]})]});n["default"].config.productionTip=!1,new n["default"]({store:Ee,render:function(e){return e(ye)}}).$mount("#app")},"82e7":function(e,t,r){"use strict";r("13f1")},"85ec":function(e,t,r){},"95a6":function(e,t,r){"use strict";r("0a4a")},a615:function(e,t,r){},e0ed:function(e,t,r){},f75e:function(e,t,r){"use strict";r("fdc5")},fdc5:function(e,t,r){}});
//# sourceMappingURL=app.3aa1ab77.js.map